version: 0.2
#this build spec assumes the ubuntu 14.04 trusty image
#this build run simply verifies we haven't published something at this tag yet.
#if we have we fail the build and stop the pipeline, if we haven't we allow the pipeline to run.
phases:
  install:
    commands:
  pre_build:
    commands:
  build:
    commands:
      - echo Build started on `date`
      - cd aws-iot-device-sdk-java-v2
      - bash ./codebuild/cd/test-version-exists.sh
  post_build:
    commands:
      - echo Build completed on `date`

