# Assumes are running using the Ubuntu 16.04:x64 image.
# Runs first - uses the VERSION file to clone the repository
# Uses the version file from S3 to get the correct version of the Github repository

version: 0.2
phases:
  build:
    commands:
      - cd $CODEBUILD_SRC_DIR
      - VERSION=$(cat VERSION)
      - git clone https://github.com/aws/aws-iot-device-sdk-java-v2.git --branch ${VERSION}
      - cd $CODEBUILD_SRC_DIR/aws-iot-device-sdk-java-v2
