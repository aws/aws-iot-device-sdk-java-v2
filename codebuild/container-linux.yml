version: 0.2
#this build spec assumes the ubuntu aws/codebuild/java:openjdk-8 image
phases:
  install:
    commands:
      - sudo apt-get update -y
      - sudo apt-get install openjdk-8-jdk -y
      - sudo apt-get install maven -y
      - sudo apt-get awscli -y
      - sudo apt-get update -y

  build:
    commands:
      - echo Build started on `date`
      - mvn compile

  post_build:
    commands:
      - echo Build completed on `date`

artifacts:
  discard-paths: yes
  files:
    - "target/surefire-reports/**"
    - "hs_err_pid*"
    - "core*"
